# 🍽️ CrewAI 고급 맛집 추천 및 설문조사 시스템

CrewAI를 활용하여 6개의 전문 에이전트가 협력하여 맛집 추천부터 설문조사, 데이터 분석까지 수행하는 완전한 피드백 시스템입니다.

## 🎯 시스템 개요

이 시스템은 다음과 같은 6개의 전문 에이전트로 구성되어 있습니다:

### 기존 에이전트 (맛집 추천)
### ① 리서처 에이전트 (The Researcher)
- **역할**: 사용자의 요청에 따라 맛집 정보를 수집하고 분석
- **전문 분야**: 데이터 탐색, 정보 필터링
- **주요 도구**: 웹 검색, 위치정보 검색, 맛집 API

### ② 큐레이터 에이전트 (The Curator)
- **역할**: 수집된 맛집 정보를 분석하여 최고의 추천 리스트를 선별
- **전문 분야**: 정보 선별, 추천 논리 구축
- **평가 기준**: 평점(40%), 가격 적정성(30%), 거리(20%), 리뷰 품질(10%)

### ③ 커뮤니케이터 에이전트 (The Communicator)
- **역할**: 선별된 맛집 정보를 사용자에게 친절하고 명확하게 전달
- **전문 분야**: 콘텐츠 생성, 정보 요약

### 신규 에이전트 (설문조사 및 분석)
### ④ 폼 생성 에이전트 (The Form Creator)
- **역할**: 추천된 맛집 목록을 바탕으로 효과적인 설문조사를 생성
- **전문 분야**: 설문조사 항목 구성, 데이터 입력 설계
- **주요 도구**: 구글 폼 API 도구

### ⑤ 이메일 발송 에이전트 (The Email Sender)
- **역할**: 설문조사 링크를 포함한 이메일을 대상자에게 효과적으로 발송
- **전문 분야**: 이메일 주소 관리, 메시지 작성, 스케줄링
- **주요 도구**: SendGrid, Mailgun, Gmail API

### ⑥ 데이터 분석 에이전트 (The Data Analyst)
- **역할**: 설문조사 응답 데이터를 분석하고 시각화하여 인사이트를 제공
- **전문 분야**: 데이터 분석, 통계, 보고서 작성
- **주요 도구**: 구글 스프레드시트 API, 데이터 시각화 라이브러리

## 🚀 설치 및 설정

### 1. 필요한 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. API 키 설정
`advanced_restaurant_system.py` 파일에서 다음 API 키들을 설정하세요:

```python
# OpenAI API 키 (필수)
os.environ["OPENAI_API_KEY"] = "your-openai-api-key-here"

# Serper API 키 (웹 검색용, 선택사항)
os.environ["SERPER_API_KEY"] = "your-serper-api-key-here"

# Google API 자격 증명 (구글 폼/스프레드시트용)
os.environ["GOOGLE_CREDENTIALS"] = "path-to-google-credentials.json"

# SendGrid API 키 (이메일 발송용)
os.environ["SENDGRID_API_KEY"] = "your-sendgrid-api-key-here"
```

### 3. 테스트 실행
```bash
python test_advanced_system.py
```

## 🎮 사용법

### 기본 실행
```bash
python advanced_restaurant_system.py
```

### 전체 워크플로우
1. **맛집 추천**: 사용자 요청에 따른 맛집 추천
2. **설문조사 생성**: 추천 결과를 바탕으로 구글 폼 생성
3. **이메일 발송**: 설문조사 링크를 포함한 이메일 발송
4. **응답 수집**: 설문조사 응답 대기
5. **데이터 분석**: 응답 데이터 분석 및 시각화
6. **최종 보고서**: 분석 결과를 포함한 최종 보고서 생성

## 📁 파일 구조

```
workspace_crewai_test/
├── advanced_restaurant_system.py    # 고급 맛집 추천 시스템
├── restaurant_finder.py             # 기본 맛집 추천 시스템
├── test_advanced_system.py          # 고급 시스템 테스트
├── test_restaurant_finder.py        # 기본 시스템 테스트
├── requirements.txt                 # 필요한 패키지 목록
├── env_example.txt                  # 환경 변수 예시
├── README.md                        # 기본 시스템 설명서
└── ADVANCED_README.md               # 고급 시스템 설명서 (이 파일)
```

## 🔧 시스템 아키텍처

```
사용자 요청
    ↓
리서처 에이전트 (정보 수집)
    ↓
큐레이터 에이전트 (정보 선별)
    ↓
커뮤니케이터 에이전트 (결과 전달)
    ↓
폼 생성 에이전트 (설문조사 생성)
    ↓
이메일 발송 에이전트 (이메일 발송)
    ↓
응답 수집 대기
    ↓
데이터 분석 에이전트 (데이터 분석)
    ↓
최종 보고서
```

## 🛠️ 주요 기능

### 맛집 추천 기능
- **지능형 정보 수집**: 웹 검색과 API를 통한 실시간 맛집 정보 수집
- **다중 기준 평가**: 평점, 가격, 거리, 리뷰 품질을 종합적으로 평가
- **사용자 친화적 결과**: 추천 이유와 함께 명확한 정보 제공

### 설문조사 기능
- **자동 폼 생성**: 추천 결과를 바탕으로 구글 폼 자동 생성
- **맞춤형 질문**: 맛집별 만족도, 가격 적정성, 개선사항 등
- **이메일 자동화**: 대상자 목록에 대한 대량 이메일 발송

### 데이터 분석 기능
- **응답률 분석**: 설문조사 참여율 및 기본 통계
- **선호도 분석**: 맛집별 선호도 및 만족도 분석
- **시각화**: 차트와 그래프를 통한 직관적인 결과 표현
- **인사이트 도출**: 데이터 기반의 개선사항 및 인사이트 제공

## 📊 설문조사 항목

### 객관식 질문
1. **가장 마음에 드는 맛집 선택**: 추천된 맛집 중 선택
2. **만족도 평가**: 각 맛집에 대한 1-5점 척도 평가
3. **가격 적정성 평가**: 가격 대비 만족도 1-5점 척도

### 주관식 질문
1. **추가 추천 맛집**: 개인적으로 추천하고 싶은 맛집
2. **개선사항 및 의견**: 서비스 개선을 위한 자유 의견

## 📈 데이터 분석 결과

### 기본 통계
- 총 응답 수
- 응답률
- 응답자 분포

### 맛집별 분석
- 선호도 순위
- 만족도 점수
- 가격 적정성 평가

### 시각화
- 맛집별 선호도 막대그래프
- 만족도 점수 파이차트
- 가격 적정성 분포 히스토그램
- 개선사항 키워드 워드클라우드

## 🔍 문제 해결

### API 키 오류
- OpenAI API 키가 올바르게 설정되었는지 확인
- Google API 자격 증명 파일 경로 확인
- SendGrid API 키 설정 확인

### 모듈 import 오류
- 모든 필요한 패키지가 설치되었는지 확인
- `python test_advanced_system.py`로 테스트 실행

### 이메일 발송 오류
- SendGrid API 키 유효성 확인
- 이메일 수신자 목록 형식 확인
- 스팸 필터 설정 확인

### 구글 폼 생성 오류
- Google API 자격 증명 확인
- 구글 폼 API 권한 설정 확인
- 폼 생성 권한 확인

## 📚 추가 정보

### API 문서
- [OpenAI API 문서](https://platform.openai.com/docs)
- [Google Forms API 문서](https://developers.google.com/forms/api)
- [SendGrid API 문서](https://docs.sendgrid.com/)
- [CrewAI 공식 문서](https://docs.crewai.com/)

### 데이터 분석 도구
- [Pandas 문서](https://pandas.pydata.org/docs/)
- [Matplotlib 문서](https://matplotlib.org/stable/)
- [Seaborn 문서](https://seaborn.pydata.org/)

## 🤝 기여하기

이 프로젝트에 기여하고 싶으시다면:
1. 이슈를 생성하여 개선사항을 제안해주세요
2. 새로운 에이전트나 도구를 추가해보세요
3. 더 나은 평가 기준이나 설문조사 항목을 제안해주세요
4. 데이터 분석 알고리즘을 개선해보세요

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🎉 완성된 기능

✅ **6개 전문 에이전트**: 리서처, 큐레이터, 커뮤니케이터, 폼 생성자, 이메일 발송자, 데이터 분석가
✅ **완전한 워크플로우**: 맛집 추천 → 설문조사 → 이메일 발송 → 데이터 분석
✅ **자동화된 설문조사**: 구글 폼 자동 생성 및 이메일 발송
✅ **데이터 시각화**: 응답 데이터 분석 및 차트 생성
✅ **확장 가능한 구조**: 새로운 에이전트나 도구를 쉽게 추가 가능
✅ **완전한 테스트**: 모든 기능에 대한 테스트 코드 포함
